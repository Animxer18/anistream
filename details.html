<!DOCTYPE html>
<html>
  <head>
    <title>WibuTV</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link id="data-theme" rel="stylesheet" href="/assets/css/light.css" />
    <link rel="stylesheet" href="/assets/css/style.css" />
    <link
      rel="stylesheet"
      href="https://site-assets.fontawesome.com/releases/v6.2.0/css/all.css"
    />
    <link rel="stylesheet" href="/assets/css/pagination.css" />
    <style>
      .more-content {
        height: auto;
        overflow: hidden;
      }

      .text-truncate.show-more {
        white-space: normal;
      }

      .text-truncate.show-more ~ .more-content {
        display: block;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/artplayer/dist/artplayer.js"></script>
    <script>
      const BACKEND_URL = "https://wibu.heusc.space";
    </script>
    <style>
      .artplayer-app {
        width: 100%;
        height: 300px;
      }
    </style>
  </head>

  <body>
    <div class="container ps-0 pe-0">
      <div class="col-md-12 col-md-18 mx-auto" style="max-width: 600px">
        <div class="d-grid gap-2">
          <div class="artplayer-app mb-0"></div>
          <a
            href="/"
            class="btn btn-lg btn-danger br-0"
            style="border-radius: 0"
          >
            Back To Home
          </a>
        </div>
        <hr />
        <div class="row ps-3 pe-3" id="anime_detail"></div>
        <hr />
        <div class="row ps-3 pe-3">
          <div class="col">
            <h3
              class="mb-3 mt-1 ps-3 pe-3"
              style="
                font-size: 18px;
                font-weight: 600;
                color: #fff;
                background-color: #181818;
                padding: 5px;
                border-radius: 6px;
                display: inline-block;
                position: relative;
              "
            >
              Semua Episode<span
                style="
                  background-color: #00dc5a;
                  position: absolute;
                  left: 0;
                  top: 50%;
                  transform: translateY(-50%);
                  width: 3px;
                  height: 20px;
                "
              ></span>
            </h3>
          </div>
        </div>
        <div
          id="episodes"
          class="d-flex flex-wrap justify-content-start mt-1 ps-3 pe-3"
        ></div>
        <div id="episodes_pagination" class="row ps-3 pe-3 mt-1"></div>
        <hr />
        <footer class="container col-md-12 mx-auto mt-4">
          <div
            class="form-check form-switch fixed-bottom d-flex justify-content-end me-3 mb-3"
          >
            <button
              class="btn btn-dark-mode bg-primary text-white"
              id="theme-toggle"
            >
              <i class="fas fa-moon"></i>
              <i class="fas fa-sun"></i>
            </button>
          </div>
          <p class="text-center mb-0">
            Made with a cup of
            <i class="fa-duotone fa-mug-hot ms-2 me-2 text-green fa-shake"></i>
            by NAMDEVEL
          </p>
          <br />
        </footer>
      </div>
    </div>
    <script src="/assets/js/details.js"></script>
    <script>
      const container = document.querySelector("#anime_detail");
      container.addEventListener("click", (event) => {
        const target = event.target;
        if (target.classList.contains("show-more")) {
          const description = container.querySelector(".text-truncate");
          const moreContent = container.querySelector(".more-content");
          description.classList.toggle("show-more");
          moreContent.classList.toggle("text-truncate");
          target.textContent = description.classList.contains("show-more")
            ? "Sembunyikan"
            : "Selengkapnya";
        }
      });
      const toggle = document.querySelector("#theme-toggle");
      const link = document.querySelector("#data-theme");

      const theme = localStorage.getItem("theme");

      if (theme === "dark") {
        toggle.classList.add("active");
        link.href = "/assets/css/dark.css";
        document.body.classList.add("dark-mode");
      }

      toggle.addEventListener("click", () => {
        toggle.classList.toggle("active");
        if (toggle.classList.contains("active")) {
          link.href = "/assets/css/dark.css";
          document.body.classList.add("dark-mode");

          localStorage.setItem("theme", "dark");
        } else {
          link.href = "/assets/css/light.css";
          document.body.classList.remove("dark-mode");

          localStorage.setItem("theme", "light");
        }
      });
    </script>
  </body>
</html>
